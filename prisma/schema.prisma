// datasource e generator vocÃª jÃ¡ deve ter, algo assim:

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Pedido {
  id       String @id @default(cuid())
  nome     String
  email    String
  telefone String

  modelo     Modelo
  tamanho    Tamanho
  tipoPedido TipoPedido

  valorTotal Float
  valorPago  Float?
  txid       String @unique

  // ðŸ†• PersonalizaÃ§Ã£o de camisa
  nomeCamisa   String
  numeroCamisa String

  comprovanteBase64 String?
  status            Status  @default(AGUARDANDO_PAGAMENTO)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PedidoCarrinho {
  id       String @id @default(cuid())
  nome     String
  email    String
  telefone String

  // todos os itens do carrinho em JSON
  itemsJson Json

  valorTotal Float
  valorPago  Float?
  txid       String @unique

  comprovanteBase64 String?
  status            Status  @default(AGUARDANDO_PAGAMENTO)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PedidoCaneca {
  id       String @id @default(cuid())
  nome     String
  email    String
  telefone String

  tipoProduto TipoProdutoCaneca
  quantidade  Int
  observacao  String?

  valorTotal Float
  valorPago  Float?
  txid       String @unique

  comprovanteBase64 String?
  status            Status  @default(AGUARDANDO_PAGAMENTO)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum TipoProdutoCaneca {
  CANECA
  TIRANTE
  KIT
}

enum Modelo {
  BRANCA
  AZUL
  AZUL_SEM_MANGA
}

enum Tamanho {
  PP
  P
  M
  G
  GG
  XG
}

enum TipoPedido {
  KIT
  BLUSA
}

enum Status {
  AGUARDANDO_PAGAMENTO
  PAGO_METADE
  PAGO
  CANCELADO
}
